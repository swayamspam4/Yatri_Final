<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Yatri AR - Heritage Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Experience Indian heritage sites in AR. View models, listen to narration, and download offline packs.">
  <link rel="stylesheet" href="mobile-ar.css">
  <!-- Model Viewer Library -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
</head>
<body>
  <div class="container">
    <h1>Yatri AR - Heritage Explorer</h1>
    <!-- Model Cards -->
    <div id="modelCards">
      <!-- India Gate Card -->
      <div class="model-card">
        <div class="model-desc">India Gate is a war memorial located in New Delhi, India. Explore its AR model below.</div>
        <model-viewer src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/sign/heritage_assets/india_gate_nobg.glb?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV82NzUzYzI4Yi05MzU1LTQyOTgtYTY0NS0zZDRlMzE4NTU2MGUiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJoZXJpdGFnZV9hc3NldHMvaW5kaWFfZ2F0ZV9ub2JnLmdsYiIsImlhdCI6MTc1ODU1MzI2MiwiZXhwIjoxNzkwMDg5MjYyfQ.NLYlBfdsYKA7GAQlQc7eCmmk8VCeKoFj6JA7qLTyaM0"
          alt="India Gate AR Model" camera-controls auto-rotate style="width:100%;height:220px;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/">
        </model-viewer>
        <a href="models/indiagate.html" class="ar-link"><button>View India Gate in AR</button></a>
      </div>
      <!-- Pandal Card -->
      <div class="model-card">
        <div class="model-desc">Pandal is a temporary structure used in festivals. View its AR model below.</div>
        <model-viewer src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/sign/heritage_assets/pandal_without_bg.glb?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV82NzUzYzI4Yi05MzU1LTQyOTgtYTY0NS0zZDRlMzE4NTU2MGUiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJoZXJpdGFnZV9hc3NldHMvcGFuZGFsX3dpdGhvdXRfYmcuZ2xiIiwiaWF0IjoxNzU4NTUzMjgzLCJleHAiOjE3OTAwODkyODN9.3PW38qEx9f3J-l5tByDWL-jWJ9sfgMcrgZnYzybDHko"
          alt="Pandal AR Model" camera-controls auto-rotate style="width:100%;height:220px;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/">
        </model-viewer>
        <a href="models/pandal.html" class="ar-link"><button>View Pandal in AR</button></a>
      </div>
      <!-- Rath Card -->
      <div class="model-card">
        <div class="model-desc">Rath is a ceremonial chariot used in processions. Experience its AR model below.</div>
        <model-viewer src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/sign/heritage_assets/rath_nobg.glb?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV82NzUzYzI4Yi05MzU1LTQyOTgtYTY0NS0zZDRlMzE4NTU2MGUiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJoZXJpdGFnZV9hc3NldHMvcmF0aF9ub2JnLmdsYiIsImlhdCI6MTc1ODU1MzMwOCwiZXhwIjoxNzkwMDg5MzA4fQ.N71GwFU9kbg8gmeaJ1a-4yuNiC1C-mTeeWufXcohUz0"
          alt="Rath AR Model" camera-controls auto-rotate style="width:100%;height:220px;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/">
        </model-viewer>
        <a href="models/rath.html" class="ar-link"><button>View Rath in AR</button></a>
      </div>
        <!-- Charminar Card -->
        <div class="model-card">
          <div class="model-desc">Charminar is a historic monument in Hyderabad, India. Explore its AR model below.</div>
          <model-viewer src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/public/heritage_assets/charminar_hyderabad.glb"
            ios-src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/public/heritage_assets/Charminar_Hyderabad.usdz"
            alt="Charminar AR Model" camera-controls auto-rotate ar ar-modes="webxr quick-look scene-viewer" style="width:100%;height:220px;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/">
          </model-viewer>
          <a href="ar-view.html?model=charminar" class="ar-link"><button>View Charminar in AR</button></a>
        </div>
        <!-- Sanchi Stupa Card -->
        <div class="model-card">
          <div class="model-desc">The Great Stupa at Sanchi is one of the oldest stone structures in India. View its AR model below.</div>
          <model-viewer src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/public/heritage_assets/great_stupa_in_sanchi.glb"
            ios-src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/public/heritage_assets/Great_Stupa_in_Sanchi.usdz"
            alt="Sanchi Stupa AR Model" camera-controls auto-rotate ar ar-modes="webxr quick-look scene-viewer" style="width:100%;height:220px;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/">
          </model-viewer>
          <a href="ar-view.html?model=sanchi" class="ar-link"><button>View Sanchi Stupa in AR</button></a>
        </div>
        <!-- Sun Temple Card -->
        <div class="model-card">
          <div class="model-desc">Konark Sun Temple is a UNESCO World Heritage Site in Odisha, India. View its AR model below.</div>
          <model-viewer src="" ios-src="https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/public/heritage_assets/konark_sun_temple.usdz"
            alt="Sun Temple AR Model" camera-controls auto-rotate ar ar-modes="webxr quick-look scene-viewer" style="width:100%;height:220px;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/">
          </model-viewer>
          <a href="ar-view.html?model=suntemple" class="ar-link"><button>View Sun Temple in AR</button></a>
        </div>
    </div>
    <button id="playNarrationBtn">Play Narration</button>
    <button id="playMusicBtn">Play Background Music</button>
    <button id="downloadPackBtn">Download Offline Pack</button>
    <div class="info-section">
      <div class="lang-tabs">
        <div class="lang-tab active" data-lang="en">English</div>
        <div class="lang-tab" data-lang="hi">हिन्दी</div>
        <div class="lang-tab" data-lang="kn">ಕನ್ನಡ</div>
        <!-- Add more state languages as needed -->
      </div>
      <div id="infoText">
        <!-- Informative text will be loaded here -->
        Welcome! Select a heritage site to explore its history, architecture, and stories in AR.
      </div>
    </div>
    <!-- AR Fullscreen View (for demo, can be enhanced for WebXR/Quick Look) -->
    <div id="arFullView" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:#000; z-index:9999; flex-direction:column; justify-content:center; align-items:center;">
      <button id="backBtn" style="position:absolute; top:16px; left:16px; background:#fff; color:#007bff; border:none; border-radius:6px; padding:10px 18px; font-size:1rem; font-weight:500;">← Back</button>
      <div id="arFullContent" style="width:100vw; height:100vh; display:flex; justify-content:center; align-items:center;"></div>
    </div>
  </div>
  <script>
    // Lightweight AR view logic for each model
    function openAR(modelKey) {
      // Show AR fullscreen view
      document.querySelector('.container').style.display = 'none';
      document.getElementById('arFullView').style.display = 'flex';
      // Get model URL and description
      let modelUrl = '';
      let modelDesc = '';
      if (modelKey === 'indiagate') {
        modelUrl = 'https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/sign/heritage_assets/india_gate_nobg.glb';
        modelDesc = 'India Gate AR Model';
      } else if (modelKey === 'pandal') {
        modelUrl = 'https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/sign/heritage_assets/pandal_without_bg.glb';
        modelDesc = 'Pandal AR Model';
      } else if (modelKey === 'rath') {
        modelUrl = 'https://kcpcvsfumkeinsxfkfru.supabase.co/storage/v1/object/sign/heritage_assets/rath_nobg.glb';
        modelDesc = 'Rath AR Model';
      }
      // Render model-viewer in fullscreen with AR enabled
      document.getElementById('arFullContent').innerHTML = `
        <model-viewer src="${modelUrl}" alt="${modelDesc}" camera-controls auto-rotate ar ar-modes="webxr quick-look scene-viewer" ios-src="${modelUrl}" style="width:90vw;height:70vh;background:transparent;" draco-decoder-path="https://www.gstatic.com/draco/versioned/decoders/1.4.3/"></model-viewer>
      `;
    }
    document.getElementById('backBtn').addEventListener('click', function() {
      document.getElementById('arFullView').style.display = 'none';
      document.querySelector('.container').style.display = 'block';
      document.getElementById('arFullContent').innerHTML = '';
    });

    document.getElementById('playNarrationBtn').addEventListener('click', function() {
      alert('Playing narration...');
    });
    document.getElementById('playMusicBtn').addEventListener('click', function() {
      alert('Playing background music...');
    });
    document.getElementById('downloadPackBtn').addEventListener('click', function() {
      alert('Downloading offline pack...');
    });
    document.querySelectorAll('.lang-tab').forEach(tab => {
      tab.addEventListener('click', function() {
        document.querySelectorAll('.lang-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        document.getElementById('infoText').textContent = 'Informative text for selected site (' + this.textContent + ')';
      });
    });
  </script>
</body>
</html>
